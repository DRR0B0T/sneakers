{"version":3,"sources":["components/Card/Card.module.scss","components/Drawer/Drawer.module.scss","components/Card/index.jsx","pages/Home.jsx","hooks/useCart.js","components/Header.jsx","components/Info.jsx","components/Drawer/index.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","Card","id","onPlus","onFavorite","imageUrl","title","price","favorited","loading","React","useState","favorite","setFavorite","isItemAdded","useContext","AppContext","object","parentId","className","styles","card","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","onClick","src","alt","plus","Home","items","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","isLoading","onChange","value","placeholder","filterItems","filter","item","toLowerCase","includes","Array","map","obj","renderItems","useCart","cartItems","setCartItems","reduce","sum","Header","props","to","onClickCart","Info","image","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","opened","isCompleteOrdered","setIsCompleteOrdered","orderId","setOrderId","setIsLoading","onClickOrdered","a","axios","post","data","i","length","delete","alert","overlay","overlayVisible","drawer","style","backgroundImage","toFixed","disabled","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","error","createContext","App","setItems","setFavorites","cartOpened","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9d66474b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__XkNUR\",\"favorite\":\"Card_favorite__jLiHb\",\"plus\":\"Card_plus___HjY3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__1mjs5\",\"overlayVisible\":\"Drawer_overlayVisible__azq0g\",\"drawer\":\"Drawer_drawer__mrzeP\",\"items\":\"Drawer_items__3veiQ\"};","import React from 'react';\r\nimport styles from \"./Card.module.scss\";\r\nimport ContentLoader from \"react-content-loader\"\r\nimport {AppContext} from \"../../App\";\r\n\r\nexport const Card = ({\r\nid,\r\nonPlus,\r\nonFavorite,\r\nimageUrl,\r\ntitle,\r\nprice,\r\nfavorited=false,\r\nloading=false,\r\n                     }) => {\r\n  const [favorite, setFavorite] = React.useState(favorited);\r\n  const { isItemAdded } = React.useContext(AppContext)\r\n  const object = { id, parentId: id, title, imageUrl, price }\r\n\r\n  const handleClickPlus = () => {\r\n    onPlus(object)\r\n  }\r\n\r\n  const onClickFavorite = () => {\r\n    onFavorite(object)\r\n    setFavorite(!favorite)\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {\r\n        loading ? (<ContentLoader\r\n          speed={2}\r\n          width={150}\r\n          height={187}\r\n          viewBox=\"0 0 150 187\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\"\r\n        >\r\n          <rect x=\"0\" y=\"119\" rx=\"3\" ry=\"3\" width=\"93\" height=\"15\" />\r\n          <rect x=\"0\" y=\"148\" rx=\"8\" ry=\"8\" width=\"80\" height=\"24\" />\r\n          <rect x=\"1\" y=\"95\" rx=\"3\" ry=\"3\" width=\"150\" height=\"15\" />\r\n          <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"150\" height=\"91\" />\r\n          <rect x=\"117\" y=\"141\" rx=\"8\" ry=\"8\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>) : (\r\n          <>\r\n            {onFavorite && <div  onClick={onClickFavorite}  className={styles.favorite}>\r\n              <img  src={favorite ? \"img/heart-liked.svg\" : \"img/heart-unliked.svg\"  } alt=\"unlike\"/>\r\n            </div>}\r\n            <img width={133} height={112} src={imageUrl} alt=\"\"/>\r\n            <h5>{title}</h5>\r\n            <div className='d-flex justify-between'>\r\n              <div className='d-flex flex-column '>\r\n                <span>Цена:</span>\r\n                <b>{price} руб.</b>\r\n              </div>\r\n              {onPlus && <img\r\n                className={styles.plus}\r\n                onClick={handleClickPlus}\r\n                src={isItemAdded(id) ? \"img/btn-checked.svg\" : \"img/btn-plus.svg\"}\r\n                alt=\"Plus\"/>}\r\n            </div>\r\n          </>\r\n        )\r\n      }\r\n\r\n    </div>\r\n  );\r\n}","import {Card} from '../components/Card'\r\nimport React from 'react'\r\n\r\nexport const Home = ({ \r\n    items, \r\n    searchValue, \r\n    setSearchValue, \r\n    onChangeSearchInput,\r\n    onAddToFavorite,\r\n    onAddToCart,\r\n     isLoading}) =>\r\n    {\r\n\r\n    const renderItems = () => {\r\n      const filterItems = items.filter((item)=> item.title.toLowerCase().includes(searchValue.toLowerCase()))\r\n\r\n      return (\r\n         isLoading\r\n           ? [...Array(12)]\r\n           : filterItems).map((item) => (\r\n             <Card\r\n                key={item && item.id}\r\n                onFavorite={(obj) => onAddToFavorite(obj)}\r\n                onPlus={(obj)=>onAddToCart(obj)}\r\n                loading={isLoading}\r\n                {...item}\r\n              />)\r\n       )\r\n      }\r\n\r\n    return (\r\n        <div className='content p-40'>\r\n        <div className='d-flex align-center mb-40 justify-between'>\r\n          <h1>{searchValue ? `Поиск по запросу: '${searchValue}'` : 'Все кроссовки'} </h1>\r\n          <div className=\"search-block\">\r\n            <img src=\"img/search.svg\" alt=\"Search\"/>\r\n            {searchValue &&\r\n            <img\r\n              onClick={() => setSearchValue('')}\r\n              className='clear cu-p'\r\n              src=\"img/btn-remove.svg\"\r\n              alt=\"Clear\"/>}\r\n            <input onChange={onChangeSearchInput} value={searchValue} placeholder='Поиск...'/>\r\n          </div>\r\n        </div>\r\n        <div className=\"d-flex flex-wrap\">\r\n          {renderItems()}\r\n        </div>\r\n      </div>\r\n    \r\n    )\r\n}","import {AppContext} from \"../App\";\r\nimport React from \"react\"\r\n\r\n\r\nexport const useCart = () => {\r\n  const {cartItems, setCartItems} = React.useContext(AppContext)\r\n  const price =  cartItems.reduce((sum, obj) => obj.price + sum, 0)\r\n\r\n  return { cartItems, setCartItems, price }\r\n}","import React from 'react';\r\nimport  { Link } from 'react-router-dom'\r\nimport {useCart} from \"../hooks/useCart\";\r\n\r\nexport const Header = (props) => {\r\n  const { price } = useCart()\r\n\r\n  return (\r\n    <header className='d-flex justify-between align-center p-40'>\r\n        <Link to='/'>\r\n      <div className='d-flex align-center'>\r\n        <img width={50} height={50} src=\"img/logo.png\" alt=\"Logo\"/>\r\n        <div>\r\n          <h3 className='text-uppercase'>Sneakers</h3>\r\n          <p className='opacity-5'>Магазин лучших кроссовок</p>\r\n        </div>\r\n      </div>\r\n        </Link>\r\n      <ul className='d-flex'>\r\n        <li onClick={props.onClickCart} className='mr-30 cu-p'>\r\n          <img width={18} height={18} src=\"img/cart.svg\" alt=\"Cart\"/>\r\n          <span>{price} руб.</span>\r\n        </li>\r\n        \r\n        <li className='mr-20 cu-p'>\r\n        <Link to='/favorites'>\r\n          <img width={18} height={18} src=\"img/heart.svg\" alt=\"Favorite\"/>\r\n        </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/orders\">\r\n            <img width={18} height={18} src=\"img/user.svg\" alt=\"User\"/>\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}","import React from 'react';\r\nimport { AppContext } from \"../App\";\r\n\r\nexport const Info = ({ image, title, description }) => {\r\n  const {setCartOpened} = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className='mb-20' width={120}  src={image} alt=\"Empty\"/>\r\n      <h2>{title}</h2>\r\n      <p className='opacity-6 '>{description}</p>\r\n      <button\r\n        onClick={() => setCartOpened(false)}\r\n        className='greenButton'>\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\"/>\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  )\r\n};\r\n\r\n","import React from 'react';\r\nimport axios from \"axios\";\r\n\r\nimport {Info} from \"../Info\";\r\nimport {useCart} from \"../../hooks/useCart\";\r\n\r\nimport styles from './Drawer.module.scss'\r\n\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))\r\n\r\nexport const Drawer = ({ items= [], onClose, onRemove, opened }) => {\r\n  const { cartItems, setCartItems, price} = useCart()\r\n  const [isCompleteOrdered, setIsCompleteOrdered] = React.useState(false);\r\n  const [orderId, setOrderId] = React.useState(null);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const onClickOrdered = async () => {\r\n    try{\r\n      setIsLoading(true)\r\n      const {data} = await axios.post('https://60d381a961160900173c93d6.mockapi.io/orders', {\r\n        items: cartItems,\r\n      })\r\n      setOrderId(data.id)\r\n      setIsCompleteOrdered(true)\r\n      setCartItems([])\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i]\r\n        await axios.delete('https://60d381a961160900173c93d6.mockapi.io/cart/' + item.id)\r\n        await delay(1000)\r\n      }\r\n    } catch (e){\r\n      alert('Ошибка при создании заказа !')\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div  className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n    <div className={styles.drawer}>\r\n      <h2 className='d-flex justify-between mb-30 '>Корзина<img\r\n        onClick={onClose}\r\n        className='removeBth cu-p'\r\n        src=\"img/btn-remove.svg\"\r\n        alt=\"Remove\"/></h2>\r\n      {\r\n        items.length > 0\r\n          ? (\r\n            <div className='d-flex flex-column flex'>\r\n              <div className=\"items flex\">\r\n                {\r\n                  items.map((obj)=>(\r\n                    <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                      <div style={{backgroundImage: `url(${obj.imageUrl})`}}\r\n                           className=\"cartItemImg d-flex\">\r\n                      </div>\r\n                      <div className='mr-20 flex'>\r\n                        <p className='mb-5'>{obj.title}</p>\r\n                        <b>{obj.price} руб.</b>\r\n                      </div>\r\n                      <img\r\n                        onClick={() => onRemove(obj.id)}\r\n                        className='removeBth'\r\n                        src=\"img/btn-remove.svg\"\r\n                        alt=\"Remove\"/>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </div>\r\n              <div className='cartTotalBlock'>\r\n                <ul >\r\n                  <li>\r\n                    <span>Итого:</span>\r\n                    <div></div>\r\n                    <b>{price} руб.</b>\r\n                  </li>\r\n                  <li>\r\n                    <span>Налог 5%:</span>\r\n                    <div></div>\r\n                    <b>{((price / 100) * 5).toFixed(2)} руб.</b>\r\n                  </li>\r\n                </ul>\r\n                <button\r\n                  disabled={isLoading}\r\n                  onClick={onClickOrdered}\r\n                  className='greenButton'>\r\n                  Оформить заказ<img src=\"img/arrow.svg\" alt=\"Arrow\"/></button>\r\n              </div>\r\n            </div>\r\n          )\r\n          :  (<Info\r\n          image={ isCompleteOrdered ? 'img/complete-order.png' : \"img/empty-cart.png\"}\r\n          description={isCompleteOrdered ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'}\r\n          title={isCompleteOrdered ? 'Заказ оформлен!' : 'Корзина пустая '} />)\r\n      }\r\n    </div>\r\n    </div>\r\n  );\r\n}","import {Card} from \"../components/Card\";\r\nimport { AppContext } from \"../App\";\r\nimport React from \"react\"\r\n\r\nexport const Favorites = () => {\r\n  const { favorites, onAddToFavorite } = React.useContext(AppContext)\r\n\r\n  return (\r\n    <div className='content p-40'>\r\n      <div className='d-flex align-center mb-40 justify-between'>\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          favorites.map((item) => (\r\n              <Card\r\n                key={item.id}\r\n                favorited={true}\r\n                onFavorite={onAddToFavorite}\r\n                {...item}\r\n              />\r\n            ))\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}","import {Card} from \"../components/Card\";\r\nimport React from \"react\"\r\nimport axios from \"axios\";\r\n\r\nexport const Orders = () => {\r\n  const [orders, setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect( () => {\r\n    (async () => {\r\n     try  {\r\n       const { data } = await axios.get('https://60d381a961160900173c93d6.mockapi.io/orders')\r\n       // console.log(data.map(obj => obj.items).flat())\r\n       setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []))\r\n       setIsLoading(false)\r\n     } catch (error) {\r\n       alert('Ошибка при запросе заказов')\r\n       console.error(error)\r\n     }\r\n    })()\r\n\r\n  },[])\r\n\r\n  return (\r\n    <div className='content p-40'>\r\n      <div className='d-flex align-center mb-40 justify-between'>\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          (isLoading\r\n            ? [...Array(12)]\r\n            : orders).map((item) => (\r\n            <Card\r\n              key={item && item.id}\r\n              loading={isLoading}\r\n              {...item}\r\n            />\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}","import React from \"react\";\r\nimport {Home} from \"./pages/Home\";\r\nimport {Header} from \"./components/Header\";\r\nimport {Drawer} from \"../src/components/Drawer/index\";\r\nimport {Route} from 'react-router-dom'\r\n\r\nimport axios from 'axios'\r\nimport {Favorites} from \"./pages/Favorites\";\r\nimport {Orders} from \"./pages/Orders\";\r\n\r\nexport const AppContext = React.createContext({})\r\n\r\nfunction App() {\r\n  const [items, setItems] = React.useState([]);\r\n  const [cartItems, setCartItems] = React.useState([]);\r\n  const [favorites, setFavorites] = React.useState([]);\r\n  const [searchValue, setSearchValue] = React.useState('');\r\n  const [cartOpened, setCartOpened] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const cartResponse = await axios.get('https://60d381a961160900173c93d6.mockapi.io/cart')\r\n        const favoritesResponse = await axios.get('https://60d381a961160900173c93d6.mockapi.io/favorite')\r\n        const itemsResponse = await axios.get('https://60d381a961160900173c93d6.mockapi.io/items')\r\n\r\n        setIsLoading(false)\r\n\r\n        setCartItems(cartResponse.data)\r\n        setFavorites(favoritesResponse.data)\r\n        setItems(itemsResponse.data)\r\n      } catch (e) {\r\n        alert('Ошибка при запросе данных')\r\n      }\r\n    }\r\n    fetchData()\r\n  }, [])\r\n\r\n  const onAddToCart = async (obj) => {\r\n    try {\r\n      const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id))\r\n      if (findItem) {\r\n      setCartItems(prev => prev.filter((item) => Number(item.parentId) !== Number(obj.id)))\r\n      await  axios.delete(`https://60d381a961160900173c93d6.mockapi.io/cart/${findItem.id}`)\r\n      } else {\r\n      setCartItems(prev => [...prev, obj])\r\n      const {data} = await  axios.post('https://60d381a961160900173c93d6.mockapi.io/cart', obj)\r\n      setCartItems(prev =>\r\n        prev.map(item => {\r\n        if (item.parentId === data.parentId) {//если id из бэка равен id в корзине\r\n          return {\r\n            ...item,// возми всё что есть в объекте\r\n            id: data.id, //замени id на id который пришёл от бэкенда\r\n          }\r\n        } return item //иначе просто верни товар\r\n      }))\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка добавления товара в корзину!')\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  const onRemoveItem = (id) => {\r\n    try {\r\n      axios.delete(`https://60d381a961160900173c93d6.mockapi.io/cart/${id}`)\r\n      setCartItems(prev => prev.filter(item => Number(item.id) !== Number(id)))\r\n    } catch (error) {\r\n      alert('Ошибка удаления товара из корзины!')\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  const onAddToFavorite = async (obj) => {\r\n    try {\r\n      if (favorites.find(favObj => Number(favObj.id) === Number(obj.id))) {\r\n        axios.delete(`https://60d381a961160900173c93d6.mockapi.io/favorite/${obj.id}`)\r\n        setFavorites(prev => prev.filter(item => Number(item.id) !== Number(obj.id)))\r\n      } else {\r\n        const {data} = await axios.post('https://60d381a961160900173c93d6.mockapi.io/favorite', obj)\r\n        setFavorites(prev => [...prev, data])\r\n      }\r\n    } catch (error) {\r\n      alert('Не удалось добавить в избранное')\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  const onChangeSearchInput = (event) => {\r\n    setSearchValue(event.target.value)\r\n  }\r\n\r\n  const isItemAdded = (id) => {\r\n   return cartItems.some((obj) => Number(obj.parentId) === Number(id))\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider value={{\r\n      isItemAdded,\r\n      cartItems,\r\n      favorites,\r\n      items,\r\n      onAddToFavorite,\r\n      onAddToCart,\r\n      setCartOpened,\r\n      setCartItems\r\n    }}>\r\n      <div className=\"wrapper clear\">\r\n        <Drawer\r\n          items={cartItems}\r\n          onClose={() => setCartOpened(false)}\r\n          onRemove={onRemoveItem}\r\n          opened={cartOpened}\r\n        />\r\n        <Header onClickCart={() => setCartOpened(true)}/>\r\n        <Route path='/' exact>\r\n        <Home\r\n            items={items}\r\n            searchValue={searchValue}\r\n            setSearchValue={setSearchValue}\r\n            onChangeSearchInput={onChangeSearchInput}\r\n            onAddToFavorite={onAddToFavorite}\r\n            onAddToCart={onAddToCart}\r\n            cartItems={cartItems}\r\n            isLoading={isLoading}\r\n        />\r\n        </Route>\r\n        <Route path='/favorites'>\r\n          <Favorites />\r\n        </Route>\r\n\r\n        <Route path='/orders'>\r\n          <Orders />\r\n        </Route>\r\n      </div>\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport  {BrowserRouter as Router} from 'react-router-dom'\r\nimport 'macro-css'\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n    <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}